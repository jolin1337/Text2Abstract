import unittest
from categorizer_service import categorize_text

class CategorizerServiceTest(unittest.TestCase):
    def test_categorize_text(self):
        text = 'Gustaf Berglund, som tävlar för IFK Mora, hade tillsammans med Johan Häggström lyckats ta sig till finalen i söndagens sprintstafett, när det andra svenska laget med Gustav Nordström och Teodor Peterson hade åkt ut redan i prologen. I finalen låg Sverige bra med i klungan, men då körde Gustaf Berglund ihop med ryske Artiom Maltsev och föll. – Han var på min skida litegrann. Det var därför jag ramlade. Jag vet inte exakt vad som hände. Inombords är jag kanske lite mer upprörd än vad jag är utåt, säger Berglund till . Men trots det så lyckades Johan Häggström komma ikapp klungan igen, och Sverige slutade på en åttondeplats. De svenska herrarna hyllades för sin placering, och Berglund var nöjd med helgens instatser. – Jag är helt makalöst glad över att ha fått chansen att åka här och att det har gått så bra som det faktiskt har gjort. Det gav verkligen mersmak, säger Gustaf Berglund till . Nästa vecka är det dags för U23-VM där Berglund ska delta, och när han under dagens lopp sträckte höften är han orolig för hur det ska påverka. – Jag är lite orolig. Jag vill verkligen vara bra till dess. Jag ska verkligen försöka få till det, säger han till . U23-VM hålls i Lahti mellan den 20 och 27 januari'
        category = categorize_text(text)['category']
        # ["RYF-QPR-HGB", "RYF-QPR", "RYF-QPR-HGB-AYA-MFT", "RYF-QPR-HGB-AYA"]
        self.assertEqual(category, 'RYF-QPR-HGB-AYA-MFT')

    def test_categorize_hard_text(self):
        text = 'Batman beh&ouml;ver sin Joker. Sherlock Holmes sin professor Moriarty. Robin Hood sin sheriff. Vad vore popul&auml;rkulturen utan sina &auml;rkerivaler? Samma fr&aring;ga kan st&auml;llas i sportens v&auml;rld. P&aring; l&ouml;rdag m&ouml;ter Leksand &auml;rkerivalen Bryn&auml;s borta i vad som tidigare kallades Gavlerinken, ett m&ouml;te som f&ouml;r fansen kan vara lika betydelsefullt som en slutspelsduell, &auml;ven om matchen i sig inte ger fler po&auml;ng &auml;n vilken som helst i serielunken. N&auml;r jag i New York Times l&auml;ser om forskning om sportv&auml;rldens &auml;rkerivaler, &ouml;kar f&ouml;rst&aring;elsen f&ouml;r vad det &auml;r som g&ouml;r dessa m&ouml;ten s&aring; laddade. Forskningsresultaten visar ocks&aring; att rivaliteterna &auml;r en mer komplex relation &auml;n vad vi kan tro. Forskarna B David Tyler och Joe B Cobbs blev nyfikna p&aring; hur dessa rivaliteter gestaltar sig i en rad amerikanska sportligor. F&ouml;r en svensk kanske dessa rivaliteter inte s&auml;ger s&aring; mycket, s&auml;rskilt inte f&ouml;r lag p&aring; collegeniv&aring;, men resultaten kan appliceras p&aring; SHL och Allsvenskan. I deras unders&ouml;kning fick varje deltagare 100 po&auml;ng att f&ouml;rdela p&aring; rivaliteter i den aktuella ligan. Om jag skulle f&ouml;rdela rivalitetspo&auml;ng i SHL i relation till Bryn&auml;s, skulle exempelvis Leksand f&aring; 70 po&auml;ng och Djurg&aring;rden 30 po&auml;ng. I siffrorna (forskningen finns samlad på sajten ) framtr&auml;der d&aring; ett m&ouml;nster av vilka konflikter som &auml;r starkast, vilka lag som flest ser som rivaler och vilka lag som inte har n&aring;gra s&aring;dana alls. Lite r&ouml;rande &auml;r de lag som inte har n&aring;gon &auml;rkerival, men vars fans f&ouml;rg&auml;ves s&ouml;ker en och blir nobbade av alla. Vr&aring;l som m&ouml;ts av en g&auml;spning. F&ouml;r vem &auml;r man utan en definierande rival? Rivaliteten styrs av s&aring;dant som geografisk n&auml;rhet (Mora och Leksand torde vara &auml;nnu st&ouml;rre rivaler), kulturella faktorer, om det finns en historia av or&auml;ttvisa i domsluten mellan lagen, om de m&ouml;ts ofta och huruvida lagen historiskt har k&auml;mpat sida vid sida om slutsegern. Forskarna har f&ouml;rv&aring;nats &ouml;ver hur h&aring;rt en rivalitet kan sitta. Den &ouml;verlever inte bara spelar- och tr&auml;narbyten, en rivalitet kan &auml;rvas i generationer och decenniegamla of&ouml;rr&auml;tter kan fortfarande ligga och pyra. De s&auml;rskiljer motst&aring;ndare fr&aring;n rivaler, d&aring; en motst&aring;ndare kan vara en sv&aring;r kombattant om guldet, medan rivaliteten &auml;r av en mer existentiell natur. Ett rivalm&ouml;te hotar fansens identitet. En paradoxal aspekt av &auml;rkerivaliteten &auml;r att vi kan s&ouml;rja en &auml;rkerivals degradering i seriesystemet. Vi vill att de ska misslyckas, och det kan vara mer v&auml;rt att &auml;rkerivalen ligger efter i tabellen &auml;n vilken placering det egna laget har, men om de &aring;ker ur f&ouml;rlorar sporten lite av sin mening. Vem &auml;r vi utan v&aring;r rival att m&auml;ta oss mot? Om vi &aring;terv&auml;nder till de inledande exemplen fr&aring;n popul&auml;rkulturens dom&auml;n, har superhj&auml;ltegenren under senare &aring;r &ndash; n&auml;r m&ouml;rkret fallit &ouml;ver filmerna och ersatt de f&auml;rgglada trik&aring;erna &ndash; betonat att det som skiljer en superhj&auml;lte fr&aring;n en superskurk kan vara slumpartat. En v&auml;ljer m&ouml;rkret, den andra ljuset. Det som ger de Sherlock Holmes-historier d&auml;r han tampas med professor Moriarty extra lyster, &auml;r att det &auml;r f&ouml;rst i dem som han f&aring;r ett v&auml;rdigt motst&aring;nd och att det &auml;r tv&aring; likartade hj&auml;rnor som m&auml;ter sina krafter. Nu n&auml;rmar vi oss den sanning om rivaliteter som kan vara sv&aring;r f&ouml;r fansen att sv&auml;lja. Tyler och Cobbs har i sina resultat noterat att de st&ouml;rsta rivaliteterna inte s&auml;llan &auml;r mellan lag och fangrupper som &auml;r lika varandra. Rivaliteten f&ouml;rst&auml;rks av att mer f&ouml;renar lagen &auml;n skiljer dem &aring;t. Som n&auml;r Luke Skywalker och Darth Vader m&ouml;ts i &rdquo;Star wars&rdquo;, en rivalitet som grundas i och blir speciell av att de &auml;r far och son. Ser man till hur rivaliteter ser ut utanf&ouml;r sportl&auml;ktarna och biopalatsen, i verkliga livet, &auml;r det ocks&aring; ofta med dem man har n&aring;gonting gemensamt med som en sann rivalitet kan uppst&aring;. De som traktar efter samma &aring;tr&aring;v&auml;rda jobb, &auml;lskar samma flicka eller pojke &hellip; f&ouml;r att inte tala om syskonrivaliteten. S&aring;, p&aring; l&ouml;rdag, n&auml;r du st&aring;r p&aring; st&aring;platsl&auml;ktaren och tittar mot Bryn&auml;s-fansen, t&auml;nk d&aring; p&aring; att ni &auml;r mer lika varandra &auml;n vad man kan tro av den uppr&ouml;rda st&auml;mningen. Visst &auml;r det en ganska outh&auml;rdlig tanke?'
        category = categorize_text(text)['category']
        # ["RYF-QPR-HGB", "RYF-QPR", "RYF-QPR-HGB-AYA-MFT", "RYF-QPR-HGB-AYA"]
        self.assertEqual(category, None)


if __name__ == '__main__':
    unittest.main()
